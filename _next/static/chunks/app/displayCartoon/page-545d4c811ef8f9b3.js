(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[161],{60053:function(e,t,n){Promise.resolve().then(n.bind(n,65242))},65242:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var a=n(81210),r=n(35909),i=n(53179),o=n(36777),l=n(95258);function s(){let e=new URLSearchParams(window.location.search),t=e.get("referral"),n=e.get("uid"),a=e.get("name");return"signin/?referral=".concat(t,"&uid=").concat(n,"&name=").concat(a,"&redirect=").concat(encodeURIComponent(location.pathname+location.search))}var c=()=>{var e;let t=null===(e=(0,i.Eu)().queryUserInfo)||void 0===e?void 0:e.data,n=(0,l.useRouter)();return(0,a.jsxs)("div",{className:" flex h-[3.75rem] flex-row w-full justify-between items-center py-5 bg-[#404040]  px-[50px]  ",children:[(0,a.jsx)("div",{className:"flex items-center  gap-5 ",children:(0,a.jsx)("img",{src:"/logo.svg",className:"shrink-0  smd:w-full smd:max-w-fulllg:ml-0 max-w-[9.375rem] h-[2.375rem] lg:rotate-0 ",alt:"Logo"})}),(null==t?void 0:t.email)?(0,a.jsxs)("div",{className:"flex  items-center gap-5",children:[(0,a.jsx)("label",{className:" font-medium text-base leading-5",children:t.email}),(0,a.jsx)("button",{className:"w-8",children:(0,a.jsx)(o.K,{name:null==t?void 0:t.email})})]}):(0,a.jsx)("button",{onClick:()=>{n.push(s())},children:"Sign In"})]})},u=n(62365),d=n(43401),m=n(74572),f=n(34028),g=n(33420),v=n(41331),p=n(97427),b=n(36062),h=n(41551),x=()=>{var e;let t=null===(e=(0,i.Eu)().queryUserInfo)||void 0===e?void 0:e.data,n=(0,l.useRouter)(),o=(0,l.useSearchParams)(),x=o.get("uid")||"",y=o.get("name")||"",k=(null==y?void 0:y.split("@")[0])||"",j=(0,d.F)(),w="".concat(origin,"/displayCartoon?referral=").concat(null==t?void 0:t.inviteCode,"&uid=").concat(null==t?void 0:t.id,"&name=").concat(null==t?void 0:t.email),{data:P,refetch:N,isLoading:C}=(0,g.a)({queryKey:["queryLikeStat",x,null==t?void 0:t.id],enabled:!!x,initialData:{liked:!1,likeCount:0},queryFn:async()=>{let[e,t]=await Promise.all([m.Z.userIsLiked(x).catch(e=>!1),m.Z.userLikeCount(x)]);return{liked:e,likeCount:t}}}),L=!1,S=async()=>{if(!L&&(L=!0,(null==t?void 0:t.id)!==x)){if(null==t?void 0:t.id){if(null==P?void 0:P.liked){b.Am.success("You have liked this album."),L=!1;return}}else{n.push(s());return}m.Z.currentUserLike("like",x).then(e=>{"success"===e.message&&N()}).catch(e=>{b.Am.error("You need to update to Teen Berry (Lv.2 User) to unlock 'Like'.")}).finally(()=>{L=!1})}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c,{}),(0,a.jsxs)("div",{className:"  mx-[6.5rem] xsl:mx-[3.75rem]",children:[(0,a.jsxs)("div",{className:" flex justify-between ",children:[(0,a.jsx)("div",{className:"my-10 font-semibold text-xl leading-10",children:"".concat(x===(null==t?void 0:t.id)?"My Berry Album":k&&k+"â€˜s Berry Album"||""," ")}),(0,a.jsxs)("div",{className:"flex items-center gap-6",children:[(0,a.jsxs)("div",{className:(0,h.cn)("flex items-center gap-2"),children:[(0,a.jsx)("button",{className:"".concat(x===(null==t?void 0:t.id)&&"cursor-not-allowed"),onClick:S,children:P.liked||x===(null==t?void 0:t.id)?(0,a.jsx)(f.w.SvgLiked,{}):(0,a.jsx)(f.w.SvgLike,{})}),(0,a.jsx)("span",{className:"text-xl ",children:P.likeCount})]}),(null==t?void 0:t.id)===x&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.S,{content:"Copy Album Link",children:(0,a.jsx)("button",{className:"text-2xl  hover:text-[#4281FF]",onClick:()=>j(w),children:(0,a.jsx)(p.Qs7,{})})}),(0,a.jsx)(u.S,{content:"Share to Twitter",children:(0,a.jsx)("button",{onClick:()=>{let e="https://x.com/intent/post?text=".concat(encodeURIComponent("\nI have a new \uD83E\uDED0Berry Buddy! \n\nClick this link to visit my EnReach Season 1 Album give me a Like\uD83D\uDC97.\n\nJoin EnReach Season 1 and earn BERRY points by running a super lite node in Chrome Extension.\n\n"),"&url=").concat(encodeURIComponent(w));window.open(e,"_blank")},className:"text-2xl hover:text-[#4281FF]",children:(0,a.jsx)(v.LCd,{})})})]})]})]}),(0,a.jsx)(r.Z,{loadType:"uid"})]})]})}},25529:function(e,t,n){"use strict";n.d(t,{X:function(){return l}});var a=n(5402),r=n(71964),i=n(81210),o=(0,r.Gp)((e,t)=>{let{Component:n,children:r,getSkeletonProps:o,getContentProps:l}=(0,a.q)({...e});return(0,i.jsx)(n,{ref:t,...o(),children:(0,i.jsx)("div",{...l(),children:r})})});o.displayName="NextUI.Skeleton";var l=o},5402:function(e,t,n){"use strict";n.d(t,{q:function(){return u}});var a=n(71964),r=(0,n(55108).tv)({slots:{base:["group","relative","overflow-hidden","bg-content3 dark:bg-content2","pointer-events-none","before:opacity-100","before:absolute","before:inset-0","before:-translate-x-full","before:animate-[shimmer_2s_infinite]","before:border-t","before:border-content4/30","before:bg-gradient-to-r","before:from-transparent","before:via-content4","dark:before:via-default-700/10","before:to-transparent","after:opacity-100","after:absolute","after:inset-0","after:-z-10","after:bg-content3","dark:after:bg-content2","data-[loaded=true]:pointer-events-auto","data-[loaded=true]:overflow-visible","data-[loaded=true]:!bg-transparent","data-[loaded=true]:before:opacity-0 data-[loaded=true]:before:-z-10 data-[loaded=true]:before:animate-none","data-[loaded=true]:after:opacity-0"],content:["opacity-0","group-data-[loaded=true]:opacity-100"]},variants:{disableAnimation:{true:{base:"before:animate-none before:transition-none after:transition-none",content:"transition-none"},false:{base:"transition-background !duration-300",content:"transition-opacity motion-reduce:transition-none !duration-300"}}},defaultVariants:{}}),i=n(15249),o=n(15177),l=n(41571),s=n(49755),c=n(27897);function u(e){var t,n;let u=(0,c.w)(),[d,m]=(0,a.oe)(e,r.variantKeys),{as:f,children:g,isLoaded:v=!1,className:p,classNames:b,...h}=d,x=null!=(n=null!=(t=e.disableAnimation)?t:null==u?void 0:u.disableAnimation)&&n,y=(0,s.useMemo)(()=>r({...m,disableAnimation:x}),[(0,i.Xx)(m),x,g]),k=(0,o.W)(null==b?void 0:b.base,p);return{Component:f||"div",children:g,slots:y,classNames:b,getSkeletonProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{"data-loaded":(0,l.PB)(v),className:y.base({class:(0,o.W)(k,null==e?void 0:e.className)}),...h}},getContentProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{className:y.content({class:(0,o.W)(null==b?void 0:b.content,null==e?void 0:e.className)})}}}}},63804:function(e,t,n){"use strict";n.d(t,{Gm:function(){return r},Qy:function(){return l},ZF:function(){return s}});var a=n(49358);function r(e){return{onFetch:(t,n)=>{let r=t.options,l=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],c=t.state.data?.pageParams||[],u={pages:[],pageParams:[]},d=0,m=async()=>{let n=!1,m=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(t.signal.aborted?n=!0:t.signal.addEventListener("abort",()=>{n=!0}),t.signal)})},f=(0,a.cG)(t.options,t.fetchOptions),g=async(e,r,i)=>{if(n)return Promise.reject();if(null==r&&e.pages.length)return Promise.resolve(e);let o={queryKey:t.queryKey,pageParam:r,direction:i?"backward":"forward",meta:t.options.meta};m(o);let l=await f(o),{maxPages:s}=t.options,c=i?a.Ht:a.VX;return{pages:c(e.pages,l,s),pageParams:c(e.pageParams,r,s)}};if(l&&s.length){let e="backward"===l,t={pages:s,pageParams:c},n=(e?o:i)(r,t);u=await g(t,n,e)}else{let t=e??s.length;do{let e=0===d?c[0]??r.initialPageParam:i(r,u);if(d>0&&null==e)break;u=await g(u,e),d++}while(d<t)}return u};t.options.persister?t.fetchFn=()=>t.options.persister?.(m,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=m}}}function i(e,{pages:t,pageParams:n}){let a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,n[a],n):void 0}function o(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}function l(e,t){return!!t&&null!=i(e,t)}function s(e,t){return!!t&&!!e.getPreviousPageParam&&null!=o(e,t)}}},function(e){e.O(0,[495,863,242,720,404,582,510,450,832,477,290,90,425,403,331,744],function(){return e(e.s=60053)}),_N_E=e.O()}]);