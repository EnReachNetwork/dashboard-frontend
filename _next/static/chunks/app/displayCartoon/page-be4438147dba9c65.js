(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[161],{60053:function(e,n,t){Promise.resolve().then(t.bind(t,65242))},65242:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return b}});var a=t(81210),o=t(74572),r=t(35909),i=t(53179),l=t(36777),s=t(95258),d=()=>{var e;let n=null===(e=(0,i.Eu)().queryUserInfo)||void 0===e?void 0:e.data,t=(0,s.useRouter)();return(0,a.jsxs)("div",{className:" flex h-[3.75rem] flex-row w-full justify-between items-center py-5 bg-[#404040]  px-[50px]  ",children:[(0,a.jsx)("div",{className:"flex items-center  gap-5 ",children:(0,a.jsx)("img",{src:"/logo.svg",className:"shrink-0  smd:w-full smd:max-w-fulllg:ml-0 max-w-[9.375rem] h-[2.375rem] lg:rotate-0 ",alt:"Logo"})}),(null==n?void 0:n.email)?(0,a.jsxs)("div",{className:"flex  items-center gap-5",children:[(0,a.jsx)("label",{className:" font-medium text-base leading-5",children:n.email}),(0,a.jsx)("button",{className:"w-8",children:(0,a.jsx)(l.K,{name:null==n?void 0:n.email})})]}):(0,a.jsx)("button",{onClick:()=>{let e=new URLSearchParams(window.location.search),n=e.get("referral"),a=e.get("uid"),o=e.get("name");t.push("signin/?page=displayCartoon&referral=".concat(n,"&uid=").concat(a,"&name=").concat(o))},children:"Sign In"})]})},c=t(34028),u=t(49755),m=t(47608),f=t(36062),v=t(62365),h=t(43401),g=t(41331);let p={like:0,list:[{uuid:"",tapFromUserId:"",tapFromcode:"",tapToUserId:"",tapTocode:"",timestamp:0,content:""}]};var b=()=>{var e,n,t;let l=(0,i.Eu)(),b=null===(e=l.queryUserInfo)||void 0===e?void 0:e.data,x=(0,s.useRouter)(),w=new URLSearchParams(window.location.search),k=w.get("uid")||"",y=w.get("name")||"",j=(null==y?void 0:y.split("@")[0])||"",[N,L]=(0,u.useState)(!1),[U,C]=(0,u.useState)({cartoonList:p,loading:!0}),S=(0,h.F)(),I="".concat(origin,"/displayCartoon?referral=").concat(null==b?void 0:b.inviteCode,"&uid=").concat(null==b?void 0:b.id,"&name=").concat(null==b?void 0:b.email),E=async()=>{let e=new URLSearchParams(window.location.search).get("uid")||"";try{if(e){var n;let t=await o.Z.getShareUserList(e);if(C({cartoonList:t,loading:!1}),(null===(n=l.user)||void 0===n?void 0:n.userId)&&e){let n=await o.Z.userIsLiked(e);L(n.liked)}}}catch(e){C({...U,loading:!1}),console.error("Error fetching data:",e)}};(0,u.useEffect)(()=>{E()},[]);let R=!1,A=async()=>{if(!R&&(R=!0,(null==b?void 0:b.id)!==k)){if(null==b?void 0:b.id){if(N){f.Am.success("You have liked this album."),R=!1;return}}else{let e=new URLSearchParams(window.location.search),n=e.get("referral"),t=e.get("uid"),a=e.get("name");x.push("signin/?page=displayCartoon&referral=".concat(n,"&uid=").concat(t,"&name=").concat(a));return}o.Z.currentUserLike("like",k).then(e=>{"success"===e.message&&E()}).catch(e=>{f.Am.error("You need to update to Teen Berry (Lv.2 User) to unlock 'Like'.")}).finally(()=>{R=!1})}},_=()=>({hat:null,head:null,eyes:null,clothes:null,hand:null,pants:null,shoes:null,logo:null}),F=(0,u.useMemo)(()=>{var e;return Array.from({length:(null===(e=U.cartoonList)||void 0===e?void 0:e.list.length)||1},()=>({one:_(),two:_(),name:""}))},[U]);return(0,u.useMemo)(()=>{var e;(null===(e=U.cartoonList)||void 0===e?void 0:e.list)&&U.cartoonList.list.map(e=>({...e,tapFromUserId2:(0,m.WN)((0,m.Ko)(e.tapFromUserId)),tapToUserId2:(0,m.WN)((0,m.Ko)(e.tapToUserId))})).forEach((e,n)=>{F[n]&&((0,m.kR)(F[n].one,e.tapFromUserId2),(0,m.kR)(F[n].two,e.tapToUserId2)),F[n].name=e.content})},[U,F]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d,{}),(0,a.jsxs)("div",{className:"  mx-[6.5rem] xsl:mx-[3.75rem]",children:[(0,a.jsxs)("div",{className:" flex justify-between ",children:[(0,a.jsx)("div",{className:"my-10 font-semibold text-xl leading-10",children:"".concat(k===(null==b?void 0:b.id)?"My Berry Album":j+"â€˜s Berry Album"," ")}),(0,a.jsxs)("div",{className:"flex items-center gap-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{className:"".concat(k===(null==b?void 0:b.id)&&"cursor-not-allowed"),onClick:A,children:N||k===(null==b?void 0:b.id)&&(null===(n=U.cartoonList)||void 0===n?void 0:n.like)?(0,a.jsx)(c.w.SvgLiked,{}):(0,a.jsx)(c.w.SvgLike,{})}),(0,a.jsx)("span",{className:"text-xl ",children:null===(t=U.cartoonList)||void 0===t?void 0:t.like})]}),(null==b?void 0:b.id)===k&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.S,{content:"Copy Album Link",children:(0,a.jsx)("button",{onClick:()=>S(I),children:(0,a.jsx)(c.w.SvgShare,{})})}),(0,a.jsx)(v.S,{content:"Share to Twitter",children:(0,a.jsx)("button",{onClick:()=>{let e="https://x.com/intent/post?text=".concat(encodeURIComponent("\nI have a new \uD83E\uDED0Berry Buddy! \n\nClick this link to visit my EnReach Season 1 Album give me a Like\uD83D\uDC97.\n\nJoin EnReach Season 1 and earn BERRY points by running a super lite node in Chrome Extension.\n\n"),"&url=").concat(encodeURIComponent(I));window.open(e,"_blank")},className:"text-2xl",children:(0,a.jsx)(g.LCd,{})})})]})]})]}),(0,a.jsx)(r.Z,{cartoonList:F,loading:U.loading})]})]})}},25529:function(e,n,t){"use strict";t.d(n,{X:function(){return l}});var a=t(5402),o=t(71964),r=t(81210),i=(0,o.Gp)((e,n)=>{let{Component:t,children:o,getSkeletonProps:i,getContentProps:l}=(0,a.q)({...e});return(0,r.jsx)(t,{ref:n,...i(),children:(0,r.jsx)("div",{...l(),children:o})})});i.displayName="NextUI.Skeleton";var l=i},5402:function(e,n,t){"use strict";t.d(n,{q:function(){return c}});var a=t(71964),o=(0,t(55108).tv)({slots:{base:["group","relative","overflow-hidden","bg-content3 dark:bg-content2","pointer-events-none","before:opacity-100","before:absolute","before:inset-0","before:-translate-x-full","before:animate-[shimmer_2s_infinite]","before:border-t","before:border-content4/30","before:bg-gradient-to-r","before:from-transparent","before:via-content4","dark:before:via-default-700/10","before:to-transparent","after:opacity-100","after:absolute","after:inset-0","after:-z-10","after:bg-content3","dark:after:bg-content2","data-[loaded=true]:pointer-events-auto","data-[loaded=true]:overflow-visible","data-[loaded=true]:!bg-transparent","data-[loaded=true]:before:opacity-0 data-[loaded=true]:before:-z-10 data-[loaded=true]:before:animate-none","data-[loaded=true]:after:opacity-0"],content:["opacity-0","group-data-[loaded=true]:opacity-100"]},variants:{disableAnimation:{true:{base:"before:animate-none before:transition-none after:transition-none",content:"transition-none"},false:{base:"transition-background !duration-300",content:"transition-opacity motion-reduce:transition-none !duration-300"}}},defaultVariants:{}}),r=t(15249),i=t(15177),l=t(41571),s=t(49755),d=t(27897);function c(e){var n,t;let c=(0,d.w)(),[u,m]=(0,a.oe)(e,o.variantKeys),{as:f,children:v,isLoaded:h=!1,className:g,classNames:p,...b}=u,x=null!=(t=null!=(n=e.disableAnimation)?n:null==c?void 0:c.disableAnimation)&&t,w=(0,s.useMemo)(()=>o({...m,disableAnimation:x}),[(0,r.Xx)(m),x,v]),k=(0,i.W)(null==p?void 0:p.base,g);return{Component:f||"div",children:v,slots:w,classNames:p,getSkeletonProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{"data-loaded":(0,l.PB)(h),className:w.base({class:(0,i.W)(k,null==e?void 0:e.className)}),...b}},getContentProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{className:w.content({class:(0,i.W)(null==p?void 0:p.content,null==e?void 0:e.className)})}}}}}},function(e){e.O(0,[495,863,242,720,404,582,510,664,832,477,34,90,425,403,331,744],function(){return e(e.s=60053)}),_N_E=e.O()}]);