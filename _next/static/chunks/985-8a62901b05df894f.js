"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[985],{62985:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var r=n(81210),l=n(27767),s=n(36689),a=n(13882),i=n(2793),o=n(47608),u=n(52897),c=n(17528),d=n(49755),f=n(53179),x=n(53573),m=n(41013),h=n(88918),p=n(2280),g=n(95258);function w(){let[e,t]=(0,d.useState)(""),[n,w]=(0,d.useState)(""),b=(0,d.useContext)(f.Vo);(0,g.useRouter)();let v=new URLSearchParams(window.location.search);v.get("page");let j=v.get("referral"),{mutate:N,isPending:k}=(0,c.D)({onError:o.rV,mutationFn:async t=>{t.preventDefault(),await b.login({email:e,password:n})}});(0,p.Z)();let y=k||!0!==(0,u.oH)(e)||!n;return(0,r.jsx)(m.K,{children:(0,r.jsxs)(x.z,{className:"mx-auto px-5 min-h-full flex flex-col gap-4 items-center w-full max-w-[25rem]",children:[(0,r.jsx)("span",{className:h.U,children:"Sign In"}),(0,r.jsxs)("form",{onSubmit:N,className:"flex flex-col gap-5 w-full",children:[(0,r.jsx)(s.j7,{setEmail:t}),(0,r.jsx)(s.CM,{setPassword:w,validate:()=>null}),(0,r.jsx)(l.un,{type:"submit",isDisabled:y,isLoading:k,children:"Sign In"}),(0,r.jsx)(i.e,{})]}),(0,r.jsxs)("div",{className:"flip_item mb-auto flex items-center w-full text-xs text-white/60",children:["Donâ€™t have an account?",(0,r.jsx)(a.g,{href:"/signup?page=displayCartoon&referral=".concat(j),className:"ml-2 text-xs",children:"Sign Up"}),(0,r.jsx)(a.g,{href:"/reset?email=".concat(e),className:"ml-auto text-xs",children:"Forget Password?"})]})]})})}},2793:function(e,t,n){n.d(t,{e:function(){return b}});var r=n(81210),l=n(84200),s=n(27767),a=n(77422),i=n(36689),o=n(17528),u=n(49755),c=n(44384),d=n(47608),f=n(54957),x=n(52897),m=n(74572),h=n(53179),p=n(83332),g=n(13882),w=n(95258);function b(e){let{defReferralCode:t,btn:n="Sign in with Google",isDisabled:b}=e,v=(0,h.Eu)(),[j,N]=(0,u.useState)(""),[k,y]=(0,f.Z)(!1),[C,S]=(0,u.useState)(!1),P=(0,u.useRef)(""),R=new URLSearchParams(window.location.search),A=R.get("page");R.get("referral");let Z=(0,w.useRouter)(),{mutate:_,isPending:E}=(0,o.D)({onError:d.rV,mutationFn:async e=>{S(!1),P.current=e.access_token;let n=await m.Z.loginByGoogleApi({accessToken:e.access_token});if(console.log("resultresultresult",n),n.token)"displayCartoon"===A&&Z.push("/displayCartoon"),v.setUser(n);else if(t&&!0===(0,x.tx)(t)){let e=await m.Z.loginSetReferralApi({accessToken:P.current,referralCode:t}).catch(d.rV);e?v.setUser(e):y()}else y()}}),V=(0,c.Nq)({flow:"implicit",onError:e=>{S(!1),(0,d.rV)(e.error_description)},onSuccess:_}),{mutate:D,isPending:F}=(0,o.D)({onError:d.rV,mutationFn:async()=>{if(!0!==(0,x.tx)(j)||!P.current)return;let e=await m.Z.loginSetReferralApi({accessToken:P.current,referralCode:j});v.setUser(e),y(!1)}}),{mutate:L,isPending:U}=(0,o.D)({onError:d.rV,mutationFn:async()=>{if(!P.current)return;let e=await m.Z.loginSetReferralApi({accessToken:P.current});v.setUser(e),y(!1)}}),z=F||E||!0!==(0,x.tx)(j)||!P.current,I=b||E||C;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.un,{color:"default",type:"button",isDisabled:I,isLoading:E||C,onClick:()=>{S(!0),V()},children:[(0,r.jsx)(l.JM8,{})," ",n]}),(0,r.jsxs)(a.m,{isOpen:k,children:[(0,r.jsx)("p",{className:"self-stretch flex-grow-0 flex-shrink-0  text-base text-center text-white",children:"A Special Welcome"}),(0,r.jsx)("p",{className:"self-stretch flex-grow-0 flex-shrink-0  text-sm text-center text-white/50",children:"Join in EnReach's Open Edge journey and earn BERRY rewards with extra boost!"}),(0,r.jsx)(i.Fx,{onChange:N}),(0,r.jsx)(s.un,{isDisabled:z,className:"w-full",onClick:()=>D(),isLoading:F,children:"Get Boosted"}),(0,r.jsx)("div",{className:"flex justify-center text-white/80  text-sm h-5 items-center",children:(0,r.jsx)(g.g,{onClick:()=>L(),className:"ml-2 text-xs",children:U?(0,r.jsx)(p.c,{size:"sm"}):"Skip"})})]})]})}},53573:function(e,t,n){n.d(t,{z:function(){return i}});var r=n(81210),l=n(97572),s=n(64558),a=n(49755);function i(e){let t=(0,a.useRef)(null);return(0,l.V)(()=>{s.ZP.set(".flip_item",{alpha:0}),s.ZP.to(".flip_item",{alpha:1,yPercent:0,stagger:.1,duration:.5,ease:"back.out",startAt:{alpha:0}})},{scope:t}),(0,r.jsx)("div",{className:e.className,ref:t,children:e.children})}s.ZP.registerPlugin(l.V)},88918:function(e,t,n){n.d(t,{B:function(){return r},U:function(){return l}});let r={item:"rounded-full hover:!bg-white/10",cursor:"rounded-full bg-primary"},l="font-medium text-3xl mt-auto mb-2.5"},77422:function(e,t,n){n.d(t,{C:function(){return d},m:function(){return c}});var r=n(81210),l=n(29906),s=n(12014),a=n(21585),i=n(41551),o=n(10307),u=n(85947);function c(e){let{children:t,contentProps:n,bodyProps:i,...o}=e;return(0,r.jsx)(l.R,{isDismissable:!1,backdrop:"blur",classNames:{backdrop:"backdrop-blur"},hideCloseButton:!0,...o,children:(0,r.jsx)(s.A,{className:"w-[22.5rem] p-6 bg-[#404040] rounded-3xl",...n||{},children:(0,r.jsx)(a.I,{className:"flex flex-col justify-start items-center w-full gap-6 p-0",...i||{},children:t})})})}function d(e){let{tit:t,children:n,contentProps:c,bodyProps:d,className:f,...x}=e;return(0,r.jsx)(l.R,{hideCloseButton:!0,backdrop:"blur",className:f,classNames:{backdrop:"backdrop-blur-[6px]"},...x,children:(0,r.jsx)(s.A,{className:(0,i.cn)("w-[31.25rem] bg-[#404040] gap-6 p-6 rounded-3xl",f),...c||{},children:e=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o.k,{className:"justify-between p-0  ",children:[(0,r.jsx)("span",{className:"text-base font-semibold text-left text-white",children:t}),(0,r.jsx)("div",{className:"p-0 rounded-full w-6 h-6 flex justify-center items-center text-xs cursor-pointer bg-white/10 hover:bg-white/30",onClick:e,children:(0,r.jsx)(u.q5L,{})})]}),(0,r.jsx)(a.I,{className:"flex flex-col justify-start items-center w-full gap-6 p-0",...d||{},children:n})]})})})}},36689:function(e,t,n){n.d(t,{CM:function(){return d},Fx:function(){return h},Iv:function(){return m},e9:function(){return x},j7:function(){return f}});var r=n(81210),l=n(52897),s=n(37018),a=n(84824),i=n(54957),o=n(29060),u=n.n(o);let c={inputWrapper:"flip_item h-[2.625rem] rounded-full bg-l1 border-none backdrop-blur-lg shadow-1 text-xs",label:"text-xs",input:"text-xs !text-white"};function d(e){let{setPassword:t,label:n,error:o,validate:u=l.uo}=e,[d,f]=(0,i.Z)(!1);return(0,r.jsx)(s.Y,{isRequired:!0,classNames:c,type:d?"text":"password",placeholder:n||"Password",labelPlacement:"inside",variant:"bordered",validate:u,endContent:(0,r.jsx)("button",{className:"focus:outline-none h-full",type:"button",onClick:()=>f(),"aria-label":"toggle password visibility",children:d?(0,r.jsx)(a.VhL,{className:"text-xs text-default-400 pointer-events-none"}):(0,r.jsx)(a.nO8,{className:"text-xs text-default-400 pointer-events-none"})}),errorMessage:o,onChange:e=>t(e.target.value)})}function f(e){let{setEmail:t,value:n}=e;return(0,r.jsx)(s.Y,{value:n,classNames:c,type:"email",placeholder:"Email Address",labelPlacement:"inside",variant:"bordered",isRequired:!0,validate:l.oH,onChange:e=>t(e.target.value)})}function x(e){let{setReferalCode:t,value:n}=e;return(0,r.jsx)(s.Y,{value:n,classNames:c,type:"text",placeholder:"Referral code (optional)",labelPlacement:"inside",variant:"bordered",isRequired:!0,validate:l.tx,onChange:e=>t(e.target.value)})}function m(e){let{setVerifyCode:t}=e;return(0,r.jsx)(s.Y,{classNames:c,type:"text",placeholder:"Verification Code",labelPlacement:"inside",variant:"bordered",isRequired:!0,validate:l.jg,onChange:e=>t(e.target.value)})}function h(e){let{onComplete:t,onChange:n}=e;return(0,r.jsx)(u(),{placeholder:"",onChange:n,onComplete:t,classNames:{container:"flip_item w-full justify-between h-[2.625rem] ",character:"rounded-lg max-w-[2.625rem]  w-[2.625rem] bg-l1 bg-transparent backdrop-blur-[20px] text-white text-xl leading-[2.625rem] uppercase border-0"}})}},41013:function(e,t,n){n.d(t,{K:function(){return s}});var r=n(81210),l=n(1994);function s(e){return(0,r.jsxs)("div",{className:"w-full h-full flex",children:[(0,r.jsxs)("div",{className:"flex-[4] min-h-full basis-0 flex flex-col justify-center items-center overflow-auto gap-16 lg:gap-32 bg-[#535252] text-base",children:[(0,r.jsx)(l.w.SvgLogin,{}),(0,r.jsx)(l.w.SvgLogo,{colors:["white","white"]})]}),(0,r.jsx)("div",{className:"flex-[6] min-h-full basis-0 overflow-y-auto bg-[#272727]",children:e.children})]})}},13882:function(e,t,n){n.d(t,{g:function(){return a}});var r=n(81210),l=n(41551),s=n(36805);function a(e){let{children:t,target:n="_self",className:a,onClick:i,isDisable:o,href:u="javascript:void(0);",...c}=e;return(0,r.jsx)(s.default,{target:n,href:u,onClick:e=>{o||null==i||i(e)},className:(0,l.cn)("underline text-white/60 hover:text-primary cursor-pointer",{"cursor-not-allowed hover:text-white/60":o},a),...c,children:t})}},2280:function(e,t,n){var r=n(49755),l=n(95258);t.Z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=(0,l.useRouter)();(0,r.useEffect)(()=>{localStorage.getItem("last-login-user")&&t.replace(e)},[t,e])}},47608:function(e,t,n){n.d(t,{G$:function(){return m},N3:function(){return d},Q1:function(){return p},Y:function(){return h},_v:function(){return x},rV:function(){return f}});var r=n(36062),l=n(28672),s=n.n(l),a=n(85542),i=n.n(a),o=n(94782),u=n(13910),c=n.n(u);function d(e){return e.toLowerCase().replaceAll(" ","_")}function f(e){var t,n;let l;r.Am.error(c().upperFirst((l="Unkown","string"==typeof e?l=e:e instanceof o.d7?l=(null===(n=e.response)||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.message)||e.message:"string"==typeof(null==e?void 0:e.msg)?l=null==e?void 0:e.msg:"string"==typeof(null==e?void 0:e.message)&&(l=null==e?void 0:e.message),l).trim()))}function x(e){return new Promise(t=>setTimeout(t,e))}function m(e,t){return s()(e).format(t)}function h(e,t){return s().duration(e).format(t)}function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;return c().round(e/t,4)+"rem"}s().extend(i())},52897:function(e,t,n){function r(e){return e?!!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e)||"Please enter a vaild email !":null}function l(e){return e?!!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[A-Za-z\d@$!%*?&]{8,}$/.test(e)||"Your password must be at least 8 characters long and include: at least one uppercase letter, one lowercase letter, and one number. Special characters (@$!%*?&) are allowed.":null}function s(e,t){return e&&t?e===t||"Passwords do not match!":null}function a(e){return e?6==e.length||"Invalid referral code!":null}function i(e){return e?6==e.length||"Invalid verification code":null}n.d(t,{S$:function(){return s},jg:function(){return i},oH:function(){return r},tx:function(){return a},uo:function(){return l}})}}]);